<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Crime Mapping</title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
<link href="https://api.mapbox.com/mapbox-gl-js/v2.3.0/mapbox-gl.css" rel="stylesheet">
<script src="https://api.mapbox.com/mapbox-gl-js/v2.3.0/mapbox-gl.js"></script>
<style>
body { margin: 0; padding: 0; }
#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
<div id="map"></div>

<script>
	{% for row in rows %}
	//mapboxgl.accessToken = 'pk.eyJ1IjoiZWtvcnVzbWEiLCJhIjoiY2twcDh4MW55MHRhejJubnVnZDl1YmU5MyJ9.tKsHh9W0i6pHu432sGqMag';
	mapboxgl.accessToken = 'pk.eyJ1IjoiZWtvcnVzbWEiLCJhIjoiY2twcDh5bDhvMDQ5czJucGFjNXo3NGl5dyJ9.xRk3YsZ8D8myvVhQN-3gQQ';
    var map = new mapboxgl.Map({
        container: 'map', // container id
        style: 'mapbox://styles/mapbox/streets-v11', // style URL
        center: [112.7168547905924,-7.46666929172572], // starting position [lng, lat]
        zoom: 10 // starting zoom
    });

    var marker2 = new mapboxgl.Marker({
    	color: 'red' })
    	//.setLngLat([ {{row["longitude"]}}, {{row["latitude"]}} ])
    	.setLngLat([ 112.722211,-7.433310 ])
    	.addTo(map);

	var marker3 = new mapboxgl.Marker({
		color: 'black' })
    	//.setLngLat([ {{row["longitude"]}}, {{row["latitude"]}} ])
    	.setLngLat([ {{row["longitude"]}}, {{row["latitude"]}} ])
    	.addTo(map);

    {% endfor %}
</script>
</body>
</html>